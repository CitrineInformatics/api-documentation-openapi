swagger: 2
info:
  title: Citrination
  version: 1.0.0
  description: API for access to Citrination
  termsOfService: 'https://citrination.com/tos'
  contact:
    name: Citrine Informatics
    email: admin@citrine.io
    url: 'https://citrine.io'
  license:
    name: Apache License Version 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
schemes:
  - https
host: citrination.com
basePath: /api
consumes:
  - application/json
produces:
  - application/json
security:
  - ApiKeyAuth: []
securityDefinitions:
  ApiKeyAuth:
    type: apiKey
    in: header
    name: X-API-Key
paths:
  /datasets/search:
    post:
      description: >-
        Search for datasets by the metadata for that dataset or the content of
        the files and PIFs that it contains.
      operationId: search-datasets
      tags:
        - search
      parameters:
        - name: query
          in: body
          description: A query for datasets and options for that query.
          required: true
          schema:
            type: object
            description: A query that returns information about datasets.
            allOf:
              - type: object
                description: Base type for all queries against Citrination.
                properties:
                  fromIndex:
                    type: number
                    format: integer
                    x-nullable: true
                    default: null
                    description: >-
                      The index of the first record to return. This is used for
                      pagination through results.
                  size:
                    type: number
                    format: integer
                    x-nullable: true
                    default: null
                    description: >-
                      The number of records to return. This is used for
                      pagination through results. The number of hits that are
                      returned will never be greater than this number, but may
                      be smaller if there are fewer records in the scope of the
                      query or if the maximum number of records that the server
                      will allow to be returned is exceeded (this is typically
                      100).
                  randomResults:
                    type: boolean
                    x-nullable: true
                    default: null
                    description: >-
                      Whether a random set of results should be returned. If not
                      specified, the default value is false.
                  randomSeed:
                    type: number
                    format: int32
                    x-nullable: true
                    default: null
                    description: >-
                      The seed to the pseudo-random number generator used to
                      generate random results. If not specified, a value based
                      on the current time will be used. This should be used when
                      paginating through results; if not specified, a different
                      random seed will be generated for each request and there
                      may be duplicate records between sets of results.
                  scoreRelevance:
                    type: boolean
                    x-nullable: true
                    default: null
                    description: >-
                      Whether to score relevance in queries. If not specified,
                      the relevancy score is not tracked.
                  returnMaxScore:
                    type: boolean
                    x-nullable: true
                    default: null
                    description: >-
                      Whether to return the maximum score over all hits in
                      scope, not just the results that are returned. This only
                      has meaning when scoreRelevance is set to true. If not
                      specified, the default value of this settings is false.
              - properties:
                  query:
                    type: array
                    items:
                      type: object
                      description: A query against dataset metadata and/or PIFs
                      properties:
                        logic:
                          type: string
                          enum:
                            - SHOULD
                            - MUST
                            - MUST_NOT
                            - OPTIONAL
                            - null
                          x-nullable: true
                          default: null
                          description: >
                            When multiple queries appear in a list, the logic
                            defines the way in which each will be interpreted.

                            - SHOULD is equivalent to boolean OR logic.

                            - MUST is eqivalent to boolean AND logic.

                            - MUST_NOT is equivalent to boolean NOT logic.

                            - OPTIONAL does not have an effect on whether a
                            record matches; the specific query element is
                            ignored during the primary search for records in
                            scope. However, OPTIONAL queries are executed on
                            subsequent steps such as extractions and data
                            statistics gathering.

                            - null is interpreted as SHOULD.


                            When multiple queries exist with SHOULD logic, a
                            minimum of 1 must match in order for the overall
                            query to match.
                        simple:
                          type: string
                          x-nullable: true
                          default: null
                          description: >
                            A simple query that is run against all fields that
                            contain string values. This query is run against all
                            fields in the current object, in the children of
                            this object, in the children's children, and so on.
                            Boolean OR logic is applied between all of these
                            queries.


                            Query strings are tokenized on whitespace unless
                            surrounded by quotes. For example, `GaN "band gap"`
                            tokenizes to `GaN` and `band gap` where each token
                            must match its entire phrase in a record. Tokens are
                            executed with boolean OR logic. Therefore, `GaN
                            "band gap"` matches records that contain `GaN` or
                            `band gap`.


                            Since simple filters are extremely inclusive
                            operations (only one token needs to match against
                            any field in this object or its children), it is
                            typically recommended that relevancy scoring be
                            turned on for the query so that the records that
                            match the most values are ranked the highest.
                        dataset:
                          type: array
                          items:
                            type: object
                            description: A query against a Dataset.
                            properties:
                              logic:
                                type: string
                                enum:
                                  - SHOULD
                                  - MUST
                                  - MUST_NOT
                                  - OPTIONAL
                                  - null
                                x-nullable: true
                                default: null
                                description: >
                                  When multiple queries appear in a list, the
                                  logic defines the way in which each will be
                                  interpreted.

                                  - SHOULD is equivalent to boolean OR logic.

                                  - MUST is eqivalent to boolean AND logic.

                                  - MUST_NOT is equivalent to boolean NOT logic.

                                  - OPTIONAL does not have an effect on whether
                                  a record matches; the specific query element
                                  is ignored during the primary search for
                                  records in scope. However, OPTIONAL queries
                                  are executed on subsequent steps such as
                                  extractions and data statistics gathering.

                                  - null is interpreted as SHOULD.


                                  When multiple queries exist with SHOULD logic,
                                  a minimum of 1 must match in order for the
                                  overall query to match.
                              simple:
                                type: string
                                x-nullable: true
                                default: null
                                description: >
                                  A simple query that is run against all fields
                                  that contain string values. This query is run
                                  against all fields in the current object, in
                                  the children of this object, in the children's
                                  children, and so on. Boolean OR logic is
                                  applied between all of these queries.


                                  Query strings are tokenized on whitespace
                                  unless surrounded by quotes. For example, `GaN
                                  "band gap"` tokenizes to `GaN` and `band gap`
                                  where each token must match its entire phrase
                                  in a record. Tokens are executed with boolean
                                  OR logic. Therefore, `GaN "band gap"` matches
                                  records that contain `GaN` or `band gap`.


                                  Since simple filters are extremely inclusive
                                  operations (only one token needs to match
                                  against any field in this object or its
                                  children), it is typically recommended that
                                  relevancy scoring be turned on for the query
                                  so that the records that match the most values
                                  are ranked the highest.
                              id:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    An equality or range filter against a single
                                    field.
                                  properties:
                                    logic:
                                      type: string
                                      enum:
                                        - SHOULD
                                        - MUST
                                        - MUST_NOT
                                        - OPTIONAL
                                        - null
                                      x-nullable: true
                                      default: null
                                      description: >
                                        When multiple queries appear in a list,
                                        the logic defines the way in which each
                                        will be interpreted.

                                        - SHOULD is equivalent to boolean OR
                                        logic.

                                        - MUST is eqivalent to boolean AND
                                        logic.

                                        - MUST_NOT is equivalent to boolean NOT
                                        logic.

                                        - OPTIONAL does not have an effect on
                                        whether a record matches; the specific
                                        query element is ignored during the
                                        primary search for records in scope.
                                        However, OPTIONAL queries are executed
                                        on subsequent steps such as extractions
                                        and data statistics gathering.

                                        - null is interpreted as SHOULD.


                                        When multiple queries exist with SHOULD
                                        logic, a minimum of 1 must match in
                                        order for the overall query to match.
                                    exists:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When set to true, the field must exist
                                        and have a non-null value. When set to
                                        false, the field must not exist or, if
                                        it does exist, must have a null value.
                                    equal:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        The string the match. This is executed
                                        as a phrase query meaning that the exact
                                        phrase in this string must be present in
                                        a record to match.
                                    min:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical minimum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the minimum
                                        numeric value to match.
                                    max:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical maximum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the maximum
                                        numeric value to match.
                                    exact:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When the value in the in _equal_ field
                                        must match exactly the entire value in
                                        the field being searched. For example,
                                        with _equal_ set to "gap" and _exact_
                                        set to false, the filter will match
                                        against a field that contains "band
                                        gap". However, with _equal_ set to "gap"
                                        and _exact_ set to false, the filter
                                        will not match "band gap"; it will only
                                        match against a field that contains only
                                        the word "gap".
                                    filter:
                                      type: array
                                      items:
                                        type: object
                                        description: >-
                                          The type of the parent object. This is a
                                          recursive definition.
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        Nested query elements can be added as
                                        deeply as needed in order to create
                                        complex combinations of boolean logic.
                                x-nullable: true
                                default: null
                                description: Queries against the ID of a dataset.
                              isFeatured:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    A filter against the value of a
                                    boolean-typed field.
                                  properties:
                                    logic:
                                      type: string
                                      enum:
                                        - SHOULD
                                        - MUST
                                        - MUST_NOT
                                        - OPTIONAL
                                        - null
                                      x-nullable: true
                                      default: null
                                      description: >
                                        When multiple queries appear in a list,
                                        the logic defines the way in which each
                                        will be interpreted.

                                        - SHOULD is equivalent to boolean OR
                                        logic.

                                        - MUST is eqivalent to boolean AND
                                        logic.

                                        - MUST_NOT is equivalent to boolean NOT
                                        logic.

                                        - OPTIONAL does not have an effect on
                                        whether a record matches; the specific
                                        query element is ignored during the
                                        primary search for records in scope.
                                        However, OPTIONAL queries are executed
                                        on subsequent steps such as extractions
                                        and data statistics gathering.

                                        - null is interpreted as SHOULD.


                                        When multiple queries exist with SHOULD
                                        logic, a minimum of 1 must match in
                                        order for the overall query to match.
                                    exists:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When set to true, the field must exist
                                        and have a non-null value. When set to
                                        false, the field must not exist or, if
                                        it does exist, must have a null value.
                                    equal:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        True to match true values. False to
                                        match false values.
                                    filter:
                                      type: array
                                      items:
                                        type: object
                                        description: >-
                                          The type of the parent object. This is a
                                          recursive definition.
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        Nested query elements can be added as
                                        deeply as needed in order to create
                                        complex combinations of boolean logic.
                                x-nullable: true
                                default: null
                                description: >-
                                  Queries against the isFeatured field of a
                                  dataset.
                              name:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    An equality or range filter against a single
                                    field.
                                  properties:
                                    logic:
                                      type: string
                                      enum:
                                        - SHOULD
                                        - MUST
                                        - MUST_NOT
                                        - OPTIONAL
                                        - null
                                      x-nullable: true
                                      default: null
                                      description: >
                                        When multiple queries appear in a list,
                                        the logic defines the way in which each
                                        will be interpreted.

                                        - SHOULD is equivalent to boolean OR
                                        logic.

                                        - MUST is eqivalent to boolean AND
                                        logic.

                                        - MUST_NOT is equivalent to boolean NOT
                                        logic.

                                        - OPTIONAL does not have an effect on
                                        whether a record matches; the specific
                                        query element is ignored during the
                                        primary search for records in scope.
                                        However, OPTIONAL queries are executed
                                        on subsequent steps such as extractions
                                        and data statistics gathering.

                                        - null is interpreted as SHOULD.


                                        When multiple queries exist with SHOULD
                                        logic, a minimum of 1 must match in
                                        order for the overall query to match.
                                    exists:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When set to true, the field must exist
                                        and have a non-null value. When set to
                                        false, the field must not exist or, if
                                        it does exist, must have a null value.
                                    equal:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        The string the match. This is executed
                                        as a phrase query meaning that the exact
                                        phrase in this string must be present in
                                        a record to match.
                                    min:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical minimum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the minimum
                                        numeric value to match.
                                    max:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical maximum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the maximum
                                        numeric value to match.
                                    exact:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When the value in the in _equal_ field
                                        must match exactly the entire value in
                                        the field being searched. For example,
                                        with _equal_ set to "gap" and _exact_
                                        set to false, the filter will match
                                        against a field that contains "band
                                        gap". However, with _equal_ set to "gap"
                                        and _exact_ set to false, the filter
                                        will not match "band gap"; it will only
                                        match against a field that contains only
                                        the word "gap".
                                    filter:
                                      type: array
                                      items:
                                        type: object
                                        description: >-
                                          The type of the parent object. This is a
                                          recursive definition.
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        Nested query elements can be added as
                                        deeply as needed in order to create
                                        complex combinations of boolean logic.
                                x-nullable: true
                                default: null
                                description: Queries against the name of a dataset.
                              description:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    An equality or range filter against a single
                                    field.
                                  properties:
                                    logic:
                                      type: string
                                      enum:
                                        - SHOULD
                                        - MUST
                                        - MUST_NOT
                                        - OPTIONAL
                                        - null
                                      x-nullable: true
                                      default: null
                                      description: >
                                        When multiple queries appear in a list,
                                        the logic defines the way in which each
                                        will be interpreted.

                                        - SHOULD is equivalent to boolean OR
                                        logic.

                                        - MUST is eqivalent to boolean AND
                                        logic.

                                        - MUST_NOT is equivalent to boolean NOT
                                        logic.

                                        - OPTIONAL does not have an effect on
                                        whether a record matches; the specific
                                        query element is ignored during the
                                        primary search for records in scope.
                                        However, OPTIONAL queries are executed
                                        on subsequent steps such as extractions
                                        and data statistics gathering.

                                        - null is interpreted as SHOULD.


                                        When multiple queries exist with SHOULD
                                        logic, a minimum of 1 must match in
                                        order for the overall query to match.
                                    exists:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When set to true, the field must exist
                                        and have a non-null value. When set to
                                        false, the field must not exist or, if
                                        it does exist, must have a null value.
                                    equal:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        The string the match. This is executed
                                        as a phrase query meaning that the exact
                                        phrase in this string must be present in
                                        a record to match.
                                    min:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical minimum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the minimum
                                        numeric value to match.
                                    max:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical maximum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the maximum
                                        numeric value to match.
                                    exact:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When the value in the in _equal_ field
                                        must match exactly the entire value in
                                        the field being searched. For example,
                                        with _equal_ set to "gap" and _exact_
                                        set to false, the filter will match
                                        against a field that contains "band
                                        gap". However, with _equal_ set to "gap"
                                        and _exact_ set to false, the filter
                                        will not match "band gap"; it will only
                                        match against a field that contains only
                                        the word "gap".
                                    filter:
                                      type: array
                                      items:
                                        type: object
                                        description: >-
                                          The type of the parent object. This is a
                                          recursive definition.
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        Nested query elements can be added as
                                        deeply as needed in order to create
                                        complex combinations of boolean logic.
                                x-nullable: true
                                default: null
                                description: Queries against the description of a dataset.
                              owner:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    An equality or range filter against a single
                                    field.
                                  properties:
                                    logic:
                                      type: string
                                      enum:
                                        - SHOULD
                                        - MUST
                                        - MUST_NOT
                                        - OPTIONAL
                                        - null
                                      x-nullable: true
                                      default: null
                                      description: >
                                        When multiple queries appear in a list,
                                        the logic defines the way in which each
                                        will be interpreted.

                                        - SHOULD is equivalent to boolean OR
                                        logic.

                                        - MUST is eqivalent to boolean AND
                                        logic.

                                        - MUST_NOT is equivalent to boolean NOT
                                        logic.

                                        - OPTIONAL does not have an effect on
                                        whether a record matches; the specific
                                        query element is ignored during the
                                        primary search for records in scope.
                                        However, OPTIONAL queries are executed
                                        on subsequent steps such as extractions
                                        and data statistics gathering.

                                        - null is interpreted as SHOULD.


                                        When multiple queries exist with SHOULD
                                        logic, a minimum of 1 must match in
                                        order for the overall query to match.
                                    exists:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When set to true, the field must exist
                                        and have a non-null value. When set to
                                        false, the field must not exist or, if
                                        it does exist, must have a null value.
                                    equal:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        The string the match. This is executed
                                        as a phrase query meaning that the exact
                                        phrase in this string must be present in
                                        a record to match.
                                    min:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical minimum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the minimum
                                        numeric value to match.
                                    max:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical maximum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the maximum
                                        numeric value to match.
                                    exact:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When the value in the in _equal_ field
                                        must match exactly the entire value in
                                        the field being searched. For example,
                                        with _equal_ set to "gap" and _exact_
                                        set to false, the filter will match
                                        against a field that contains "band
                                        gap". However, with _equal_ set to "gap"
                                        and _exact_ set to false, the filter
                                        will not match "band gap"; it will only
                                        match against a field that contains only
                                        the word "gap".
                                    filter:
                                      type: array
                                      items:
                                        type: object
                                        description: >-
                                          The type of the parent object. This is a
                                          recursive definition.
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        Nested query elements can be added as
                                        deeply as needed in order to create
                                        complex combinations of boolean logic.
                                x-nullable: true
                                default: null
                                description: >-
                                  Queries against the name of the owner of a
                                  dataset.
                              email:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    An equality or range filter against a single
                                    field.
                                  properties:
                                    logic:
                                      type: string
                                      enum:
                                        - SHOULD
                                        - MUST
                                        - MUST_NOT
                                        - OPTIONAL
                                        - null
                                      x-nullable: true
                                      default: null
                                      description: >
                                        When multiple queries appear in a list,
                                        the logic defines the way in which each
                                        will be interpreted.

                                        - SHOULD is equivalent to boolean OR
                                        logic.

                                        - MUST is eqivalent to boolean AND
                                        logic.

                                        - MUST_NOT is equivalent to boolean NOT
                                        logic.

                                        - OPTIONAL does not have an effect on
                                        whether a record matches; the specific
                                        query element is ignored during the
                                        primary search for records in scope.
                                        However, OPTIONAL queries are executed
                                        on subsequent steps such as extractions
                                        and data statistics gathering.

                                        - null is interpreted as SHOULD.


                                        When multiple queries exist with SHOULD
                                        logic, a minimum of 1 must match in
                                        order for the overall query to match.
                                    exists:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When set to true, the field must exist
                                        and have a non-null value. When set to
                                        false, the field must not exist or, if
                                        it does exist, must have a null value.
                                    equal:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        The string the match. This is executed
                                        as a phrase query meaning that the exact
                                        phrase in this string must be present in
                                        a record to match.
                                    min:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical minimum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the minimum
                                        numeric value to match.
                                    max:
                                      type: string
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        If the input value is non-numeric, or
                                        the field being searched does not
                                        support numbers, then this is the
                                        lexographical maximum of values to
                                        match. If the input value is numeric and
                                        the field being searched supports
                                        numbers, then this is the maximum
                                        numeric value to match.
                                    exact:
                                      type: boolean
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        When the value in the in _equal_ field
                                        must match exactly the entire value in
                                        the field being searched. For example,
                                        with _equal_ set to "gap" and _exact_
                                        set to false, the filter will match
                                        against a field that contains "band
                                        gap". However, with _equal_ set to "gap"
                                        and _exact_ set to false, the filter
                                        will not match "band gap"; it will only
                                        match against a field that contains only
                                        the word "gap".
                                    filter:
                                      type: array
                                      items:
                                        type: object
                                        description: >-
                                          The type of the parent object. This is a
                                          recursive definition.
                                      x-nullable: true
                                      default: null
                                      description: >-
                                        Nested query elements can be added as
                                        deeply as needed in order to create
                                        complex combinations of boolean logic.
                                x-nullable: true
                                default: null
                                description: >-
                                  Queries against the email address of the owner
                                  of a dataset.
                              query:
                                type: array
                                items:
                                  type: object
                                  description: >-
                                    The type of the parent object. This is a
                                    recursive definition.
                                x-nullable: true
                                default: null
                                description: >-
                                  Nested query elements can be added as deeply
                                  as needed in order to create complex
                                  combinations of boolean logic.
                          x-nullable: true
                          default: null
                          description: >-
                            A list of queries to run against the content of
                            datasets.
                        system:
                          type: array
                          items:
                            type: object
                            description: A query aginst the content of a PIF system.
                            properties:
                              logic:
                                type: string
                                enum:
                                  - SHOULD
                                  - MUST
                                  - MUST_NOT
                                  - OPTIONAL
                                  - null
                                x-nullable: true
                                default: null
                                description: >
                                  When multiple queries appear in a list, the
                                  logic defines the way in which each will be
                                  interpreted.

                                  - SHOULD is equivalent to boolean OR logic.

                                  - MUST is eqivalent to boolean AND logic.

                                  - MUST_NOT is equivalent to boolean NOT logic.

                                  - OPTIONAL does not have an effect on whether
                                  a record matches; the specific query element
                                  is ignored during the primary search for
                                  records in scope. However, OPTIONAL queries
                                  are executed on subsequent steps such as
                                  extractions and data statistics gathering.

                                  - null is interpreted as SHOULD.


                                  When multiple queries exist with SHOULD logic,
                                  a minimum of 1 must match in order for the
                                  overall query to match.
                              simple:
                                type: string
                                x-nullable: true
                                default: null
                                description: >
                                  A simple query that is run against all fields
                                  that contain string values. This query is run
                                  against all fields in the current object, in
                                  the children of this object, in the children's
                                  children, and so on. Boolean OR logic is
                                  applied between all of these queries.


                                  Query strings are tokenized on whitespace
                                  unless surrounded by quotes. For example, `GaN
                                  "band gap"` tokenizes to `GaN` and `band gap`
                                  where each token must match its entire phrase
                                  in a record. Tokens are executed with boolean
                                  OR logic. Therefore, `GaN "band gap"` matches
                                  records that contain `GaN` or `band gap`.


                                  Since simple filters are extremely inclusive
                                  operations (only one token needs to match
                                  against any field in this object or its
                                  children), it is typically recommended that
                                  relevancy scoring be turned on for the query
                                  so that the records that match the most values
                                  are ranked the highest.
                              extractAs:
                                type: string
                                x-nullable: true
                                default: null
                                description: >-
                                  If non-null, the value matched by this query
                                  element will be extracted into a key/value map
                                  where the key is equal to this value. If the
                                  object that was matched is a part of a list,
                                  only one value from that list will be
                                  returned, even if more than one matched.
                                  Extractions do not affect whether a record
                                  matches an overall query; they are simply
                                  instructions to pull out matched values from
                                  PIFs into a map.
                              extractAll:
                                type: boolean
                                x-nullable: true
                                default: null
                                description: >
                                  When extractAs is configured for a field and a
                                  match is made against an object in a list,
                                  only that object is extracted. When extractAll
                                  is set to true, the list that contained that
                                  matched object is extracted. Note that the
                                  _entire_ list is extracted, not just the
                                  elements that matched. When this value is
                                  null, it is interpreted as false.
                              extractWhenMissing:
                                x-nullable: true
                                default: null
                                description: >-
                                  When extractAs is configured for a field but
                                  that query element does not match in a record,
                                  then this value will be placed into the
                                  extracted value map under the key specified by
                                  extractAs. This value can be of any type.
                          x-nullable: true
                          default: null
                          description: >-
                            A list of queries to run against the content of
                            PIFs.
                        query:
                          type: array
                          items:
                            type: object
                            description: >-
                              The type of the parent object. This is a recursive
                              definition.
                          x-nullable: true
                          default: null
                          description: >-
                            Nested query elements can be added as deeply as
                            needed in order to create complex combinations of
                            boolean logic.
                    x-nullable: true
                    default: null
                    description: >-
                      Queries against the content of datasets and/or PIF
                      records.
                  countPifs:
                    type: boolean
                    x-nullable: true
                    default: null
                    description: >-
                      Whether to count the number of PIFs in scope of the
                      current query within each dataset. If there are no queries
                      against the content of the PIFs, then this will return the
                      total number of PIFs in the dataset. If there are queries
                      against PIF content, then this will return the number of
                      PIFs in each dataset that matched that query.
      responses:
        '200':
          description: A search result with datasets that matched the input query.
          schema:
            type: object
            properties:
              results:
                type: object
                description: The result of a single query for datasets on Citrination.
                allOf:
                  - type: object
                    description: The base type for all search results against Citrination.
                    properties:
                      took:
                        type: number
                        format: int64
                        x-nullable: true
                        default: null
                        description: >-
                          The number of milliseconds that the query took to
                          execute on the Citrination server. This does _not_
                          include the latency in the request being sent to
                          Citrination or returned to the local machine.
                      totalNumHits:
                        type: number
                        format: int64
                        x-nullable: true
                        default: null
                        description: >-
                          The total number of hits against the query that was
                          executed. The number of hits returned from the server
                          may be significantly less than this due to the
                          pagination of results.
                      maxScore:
                        type: number
                        format: double
                        x-nullable: true
                        default: null
                        description: >-
                          The maximum score for all hits against the query that
                          was executed (not simple the max score of the hits in
                          the current paginated set of results).
                  - properties:
                      hits:
                        type: array
                        items:
                          type: object
                          description: >-
                            A single dataset that matched a query run against
                            Citrination.
                          properties:
                            score:
                              type: number
                              format: double
                              x-nullable: true
                              default: null
                              description: >-
                                The relevancy score for the dataset against the
                                executed query.
                            id:
                              type: string
                              x-nullable: true
                              default: null
                              description: The unique ID of the dataset.
                            name:
                              type: string
                              x-nullable: true
                              default: null
                              description: The owner-defined name of the dataset.
                            description:
                              type: string
                              x-nullable: true
                              default: null
                              description: The owner-defined description of the dataset.
                            owner:
                              type: string
                              x-nullable: true
                              default: null
                              description: The name of the owner of the dataset.
                            email:
                              type: string
                              x-nullable: true
                              default: null
                              description: The email address of the owner of the dataset.
                            isFeatured:
                              type: boolean
                              x-nullable: true
                              default: null
                              description: >-
                                Whether the dataset is a featured one. A null
                                value implies that the dataset is not featured.
                            numPifs:
                              type: number
                              format: int64
                              x-nullable: true
                              default: null
                              description: >-
                                When requested in the query, this is the number
                                of PIFs that are in the dataset and match any
                                filters on the content of PIF systems.
                            updatedAt:
                              type: string
                              x-nullable: true
                              default: null
                              description: >-
                                The date and time that the dataset record was
                                last updated.
                        x-nullable: true
                        default: null
                        description: >-
                          The current set of paginated hits against the query
                          that was executed.

